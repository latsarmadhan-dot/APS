<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Workshop APS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/YOUR_KIT_ID.js" crossorigin="anonymous"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-50 min-h-full">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 py-6">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-2xl md:text-3xl font-bold">Dashboard Workshop APS</h1>
                    <p class="text-blue-100 mt-1">Perencanaan Peningkatan APS melalui Analisis Data dan Penguatan Ekosistem Sekolah</p>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 py-8">

        <!-- Attendance Confirmation -->
        <div class="bg-white rounded-lg shadow-md p-6 mb-8">
            
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                <div class="bg-blue-50 rounded-lg p-6 border border-blue-200 text-center">
                    <h3 class="font-semibold text-blue-900 mb-3">📋 Konfirmasi Kehadiran</h3>
                    <p class="text-blue-700 text-sm mb-4">Silakan konfirmasi kehadiran Anda </p>
                    <button onclick="openConfirmationModal()" class="inline-flex items-center bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors duration-200">
                        📝 Konfirmasi
                        <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                        </svg>
                    </button>
                </div>
                <div class="bg-green-50 rounded-lg p-6 border border-green-200 text-center">
                    <h3 class="font-semibold text-green-900 mb-3">📈 Permintaan Data</h3>
                    <p class="text-green-700 text-sm mb-4">Silahkan Unduh File ini</p>
                    <a href="https://drive.google.com/uc?export=download&id=1MhL4xJYfDRaST4xHafRfqrGB2nLReBQK" target="_blank" rel="noopener noreferrer"
                        class="inline-flex items-center bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg transition-colors duration-200">
                        📥 Unduh Data Ini
                        <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                        </svg>
                    </a>
                </div>
                <div class="bg-teal-50 rounded-lg p-6 border border-teal-200 text-center">
                    <h3 class="font-semibold text-teal-900 mb-3">📚 Materi Workshop</h3>
                    <p class="text-teal-700 text-sm mb-4">Silahkan Unduh Materi</p>
                    <a href="https://drive.google.com/drive/folders/1m1brIZFNd7kBsxDoHfipGEwJqoDbcRnJ?usp=sharing" target="_blank" rel="noopener noreferrer"
                        class="inline-flex items-center bg-teal-600 hover:bg-teal-700 text-white px-6 py-3 rounded-lg transition-colors duration-200">
                        👁️ Lihat Materi Ini
                        <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                        </svg>
                    </a>
                </div>
                <div class="bg-pink-50 rounded-lg p-6 border border-pink-200 text-center">
                    <h3 class="font-semibold text-pink-900 mb-3">📸 Dokumentasi Kegiatan</h3>
                    <p class="text-pink-700 text-sm mb-4">Silahkan Unduh Dokumentasi</p>
                    <a href="https://drive.google.com/drive/folders/1m1brIZFNd7kBsxDoHfipGEwJqoDbcRnJ?usp=sharing" target="_blank" rel="noopener noreferrer"
                        class="inline-flex items-center bg-pink-600 hover:bg-pink-700 text-white px-6 py-3 rounded-lg transition-colors duration-200">
                        👁️ Lihat Dokumentasi
                        <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                        </svg>
                    </a>
                </div>
            </div>
        </div>

        <!-- Training Schedule -->
        <div id="jadwal-container" class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-xl font-bold text-gray-900 mb-6">📅 Jadwal Pelatihan</h2>
            <div id="jadwal-grid" class="grid grid-cols-1 lg:grid-cols-2 gap-8"></div>
        </div>

        <!-- Modal Google Form -->
        <div id="formModal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50">
        <div class="bg-white rounded-xl w-full max-w-3xl shadow-xl relative">
            <button onclick="closeFormModal()" class="absolute top-3 right-3 text-gray-500 hover:text-red-500 text-xl font-bold">&times;</button>
            <iframe id="googleFormIframe" src="" class="w-full h-[600px] rounded-b-xl border-0"></iframe>
        </div>
        </div>



    </main>

    <script>
    

        // Material functions
        function downloadMaterial(materialType) {
            const materials = {
                'analisis-data': 'Panduan_Analisis_Data_APS.pdf',
                'ekosistem-sekolah': 'Strategi_Penguatan_Ekosistem_Sekolah.pdf',
                'perencanaan-strategis': 'Template_Perencanaan_Strategis_APS.pdf',
                'implementasi-program': 'Panduan_Implementasi_Program_APS.pdf',
                'evaluasi-monitoring': 'Instrumen_Evaluasi_Monitoring_APS.pdf',
                'sertifikasi': 'Template_Sertifikat_Workshop_APS.pdf'
            };
            
            const fileName = materials[materialType] || 'Materi_Workshop_APS.pdf';
            alert(`Mengunduh: ${fileName}\n\nDalam implementasi nyata, file akan diunduh secara otomatis.`);
        }

        function viewMaterial(materialType) {
            const materials = {
                'analisis-data': 'Panduan Analisis Data APS',
                'ekosistem-sekolah': 'Strategi Penguatan Ekosistem Sekolah',
                'perencanaan-strategis': 'Template Perencanaan Strategis APS',
                'implementasi-program': 'Panduan Implementasi Program APS',
                'evaluasi-monitoring': 'Instrumen Evaluasi & Monitoring APS',
                'sertifikasi': 'Template Sertifikat Workshop APS'
            };
            
            const materialName = materials[materialType] || 'Materi Workshop APS';
            alert(`Membuka: ${materialName}\n\nDalam implementasi nyata, materi akan dibuka di tab baru atau viewer PDF.`);
        }

        // Documentation functions
        function uploadDocumentation() {
            const fileInput = document.getElementById('documentationFile');
            const category = document.getElementById('documentationCategory').value;
            
            if (!fileInput.files.length) {
                alert('Silakan pilih file terlebih dahulu!');
                return;
            }
            
            const files = Array.from(fileInput.files);
            const fileNames = files.map(f => f.name).join(', ');
            
            alert(`Upload berhasil!\n\nFile: ${fileNames}\nKategori: ${category}\n\nDalam implementasi nyata, file akan diupload ke server.`);
            
            // Reset form
            fileInput.value = '';
            document.getElementById('documentationCategory').value = 'pembukaan';
        }

        function viewDocumentation(docId) {
            const docs = {
                'pembukaan-1': 'Foto Pembukaan Workshop Batch 1',
                'analisis-data-1': 'Video Sesi Analisis Data Batch 1',
                'workshop-praktik-1': 'Foto Workshop Praktik Batch 1'
            };
            
            const docName = docs[docId] || 'Dokumentasi Workshop';
            alert(`Membuka: ${docName}\n\nDalam implementasi nyata, dokumentasi akan dibuka di lightbox atau viewer.`);
        }

        function downloadDocumentation(docId) {
            const docs = {
                'pembukaan-1': 'Pembukaan_Workshop_Batch1.jpg',
                'analisis-data-1': 'Sesi_Analisis_Data_Batch1.mp4',
                'workshop-praktik-1': 'Workshop_Praktik_Batch1.jpg'
            };
            
            const fileName = docs[docId] || 'Dokumentasi_Workshop.jpg';
            alert(`Mengunduh: ${fileName}\n\nDalam implementasi nyata, file akan diunduh secara otomatis.`);
        }

        // Select batch
        function selectBatch(batchNumber) {
            currentSelectedBatch = batchNumber;
            
            // Update UI
            document.querySelectorAll('.batch-btn').forEach(btn => {
                btn.classList.remove('ring-4', 'ring-blue-300', 'ring-blue-400');
            });
            
            const selectedBtn = document.getElementById(`batch${batchNumber}Btn`);
            if (batchNumber === 1) {
                selectedBtn.classList.add('ring-4', 'ring-blue-300');
            } else {
                selectedBtn.classList.add('ring-4', 'ring-blue-400');
            }
            
            updateStats();
        }

        // Update statistics (removed individual counters)
        function updateStats() {
            // Statistics display removed as requested
        }

        // Quick actions
        function markAllPresent() {
            if (confirm('Tandai semua peserta sebagai hadir?')) {
                Object.values(participants).flat().forEach(p => p.status = 'hadir');
                alert('Semua peserta telah ditandai hadir!');
            }
        }

        function exportData() {
            const allData = {
                workshop: 'Workshop Perencanaan Peningkatan APS',
                batches: Object.entries(participants).map(([batch, parts]) => ({
                    batch: `Batch ${batch}`,
                    participants: parts,
                    schedule: batch === '1' ? '15-17 Januari 2024' : '22-24 Januari 2024'
                })),
                materials: [
                    'Panduan Analisis Data APS',
                    'Strategi Penguatan Ekosistem Sekolah',
                    'Template Perencanaan Strategis APS',
                    'Panduan Implementasi Program APS',
                    'Instrumen Evaluasi & Monitoring APS',
                    'Template Sertifikat Workshop APS'
                ]
            };
            
            console.log('Data Workshop APS:', allData);
            alert('Data workshop telah diekspor ke console. Dalam implementasi nyata, ini akan mengunduh file Excel/CSV lengkap.');
        }

        function resetAttendance() {
            if (confirm('Reset semua status kehadiran untuk semua batch?')) {
                Object.values(participants).flat().forEach(p => p.status = 'belum_konfirmasi');
                alert('Status kehadiran telah direset!');
            }
        }

        // Initialize the application
        initializeSampleData();
    </script>

    <!-- Modal Google Form -->

<script>
  function openConfirmationModal() {
    const formUrl = "https://docs.google.com/forms/d/e/1FAIpQLSeK3fRiXl-DVPnNsfdlPObl41vMY1_rIx5lJciyrzrRVhBrjA/viewform?embedded=true";
    document.getElementById("googleFormIframe").src = formUrl;
    document.getElementById("formModal").classList.remove("hidden");
    }

    function closeFormModal() {
        document.getElementById("formModal").classList.add("hidden");
        document.getElementById("googleFormIframe").src = "";
    }

  // Klik luar modal untuk menutup
  window.addEventListener("click", function (e) {
    const modal = document.getElementById("formModal");
    if (e.target === modal) {
      closeFormModal();
    }
  });
</script>

<script>
// === Data Jadwal (bisa nanti diambil dari JSON/API) ===
  const jadwalPelatihan = [
    {
      angkatan: 1,
      nama: "Angkatan Pertama",
      mulai: "2025-10-13",
      selesai: "2025-10-15",
      lokasi: "Hotel Aria Barito Banjarmasin",
      warna: "blue"
    },
    {
      angkatan: 2,
      nama: "Angkatan Kedua",
      mulai: "2025-10-15",
      selesai: "2025-10-17",
      lokasi: "Royal Jelita Hotel Banjarmasin",
      warna: "green"
    },
  ];

// === Fungsi untuk format tanggal ke versi lokal (Indonesia) ===
  function formatTanggal(tgl) {
    const options = { day: 'numeric', month: 'long', year: 'numeric' };
    return new Date(tgl).toLocaleDateString('id-ID', options);
  }
  // === Fungsi menentukan status berdasarkan tanggal ===
  function getStatus(mulai, selesai) {
    const now = new Date();
    const start = new Date(mulai);
    const end = new Date(selesai);

    if (now < start) return { text: "Belum Dimulai", icon: "🕒", color: "bg-yellow-500" };
    if (now >= start && now <= end) return { text: "Sedang Berlangsung", icon: "🟢", color: "bg-green-600" };
    return { text: "Selesai", icon: "🔵", color: "bg-gray-600" };
  }
  // === Render otomatis ke HTML ===
  const jadwalGrid = document.getElementById("jadwal-grid");

  jadwalPelatihan.forEach(j => {
    const status = getStatus(j.mulai, j.selesai);

    const card = document.createElement("div");
    card.className = `bg-gradient-to-br from-${j.warna}-50 to-${j.warna}-100 rounded-lg p-6 border border-${j.warna}-200`;
    
    card.innerHTML = `
      <div class="flex items-center mb-4">
        <div class="bg-${j.warna}-600 text-white p-2 rounded-lg mr-3">
          <span class="text-lg font-bold">${j.angkatan}</span>
        </div>
        <h3 class="text-lg font-semibold text-${j.warna}-900">${j.nama}</h3>
      </div>
      
      <div class="space-y-4">
        <div class="bg-white rounded-lg p-4 shadow-sm">
          <div class="flex items-center justify-between mb-2">
            <span class="text-sm font-medium text-gray-600">📅 Tanggal</span>
            <span class="text-sm font-semibold text-gray-900">${formatTanggal(j.mulai)} - ${formatTanggal(j.selesai)}</span>
          </div>
          <div class="flex items-center justify-between">
            <span class="text-sm font-medium text-gray-600">📍 Lokasi</span>
            <span class="text-sm font-semibold text-gray-900">${j.lokasi}</span>
          </div>
        </div>
        
        <div class="${status.color} text-white rounded-lg p-3 text-center">
          <span class="text-sm font-medium">Status: </span>
          <span class="font-semibold">${status.icon} ${status.text}</span>
        </div>
      </div>
    `;

    jadwalGrid.appendChild(card);
  });
</script>
</body>
</html>
